---
title: "Tutorial 1: Brain Imaging Data Structure"
teaching: 15
exercises: 45
questions:
- "What is BIDS?"
- "How a BIDS dataset can be made?"
objectives:
- Introduction to BIDS
- Creating a BIDS dataset
keypoints:
- TBC
---

### Tutorial outline

- What is BIDS?
- Why BIDS?
- How can I convert to BIDS?
- BIDS tutorial

### Tutorial requirements

It is essential to have a basic understanding of:
- Unix operating system, command line, and shell

Although not essential it is also helpful to have an understanding of:
- How brain imaging data are exported from a scanner

###  What is BIDS?
BIDS (Brain Imaging Data Structure) is a standarized format for the organization and description of neuroimaging and corresponding behavioral data, which has been largely lacking within the neuroimaging community. More specifically, data that come off the scanner are converted to NIFTI and JSON files, organized into a specific directory schema, and labeled following a precise naming convention. The result is an organized dataset that can be easily shared and understood by other researchers.

###  Why BIDS?

1. Reproducibility and Data Sharing: One of the more common issues that can arise for imaging researchers is receiving data from a colleague and not being able to make heads or tails of it: how the data are named and organized do not make intuitive sense to you, finding pertinent information (e.g. Repetition Time) is time-consuming, etc. What transpires is time wasted trying to make sense of the data, leading to needless back and forth with colleague(s). Thanks to the standarized format of BIDS however, the hassles of data sharing are largely alleviated. By extension, improved data sharing allows researchers to better assess and reproduce others’ experimental findings.

2. Access to “BIDS-apps”: Once converted to BIDS format, data can be applied to software packages that take BIDS-formatted datasets as their input, colloquially referred to as “BIDS-apps”. Two of the most common and used apps are MRIQC (a quality control pipeline that generates metrics of your data), and fMRIPrep (a standarized pre-processing pipeline). Having access to fMRIPrep is incredibly useful, as labs (and even individuals within a single lab) typically have their own idiosyncratic pre-processing pipelines, which can influence findings in subsequent analyses, and create confusion for others when attempting to re-process the data. By having a standarized pipeline such as fMRIPrep, which incorporates different sofware packages (such as FSL, AFNI, ANTs, FreeSurfer, and nipype), datasets across labs/institutions can be pre-processed in a highly reproducible and transparent manner.

3. Share your own BIDS-app(s): It is not uncommon for researchers to develop a novel analysis tool or technique that languishes on their Github or some other repository, unable to gain exposure in the neuroimaging community. As BIDS becomes increasingly popular however, dataset organization and pre-processing is becoming more standardized, which can be used by various BIDS-apps. By developing a tool that accepts BIDS-formatted data, you have created a BIDS-app that is potentially applicable to a large range of users.


###  How can I convert to BIDS?
You will need to have access to your or others’ raw data (e.g. dicoms) in order to perform the conversion. There are several different packages that can be used to accomplish this, such as dcm2bids, heudiconv, bidscoin, bidskit, etc. Admittingly, most BIDS converters require a bit of user input and work, therefore this section includes an in-depth tutorial to provide guidance throughout the process.

###  BIDS Tutorial

In this tutorial, we will learn how to use HeuDiConv to create a BIDS dataset from DICOM files. This tutorial is built on the original tutorial created by the Center for Reproducible Neuroscience, which uses the DICOMs of the [MyConnectome dataset](https://openneuro.org/datasets/ds000031/versions/00001) that can be found [here](https://figshare.com/articles/dataset/MyConnectome_BIDS_tutorial2A/6267503) and that is compliant with the [BIDS Specification version 1.1.0](https://zenodo.org/record/3759802). It illustrates a step-by-step guide to convert and add T1w, diffusion and functional MRI data for two out of the three available scanning sessions of one subject until the dataset is organized following BIDS and validated. This part will provide separate command line inputs to run HeuDiConv. Please check the [original tutorial](https://reproducibility.stanford.edu/bids-tutorial-series-part-2a/).

#### Environment setup
We will run HeudiConv with Docker, which is installed in the VM. We can use the following command to download HeuDiConv:

    ```
    docker pull nipy/heudiconv:0.9.0
    ```

Once the download finishes, you are all set to start with converting the two sessions of `sub-01` subject using Heudiconv for converting the dataset to BIDS. We will be starting with converting the `ses-001` session.

#### Run HeuDiConv on ses-001 scans to get the dicominfo file

#### Examine ses-001 dicominfo file to generate heuristic.py

#### Run HeuDiConv on ses-001 scans with heuristic.py and validate

#### Run HeuDiConv on ses-025 scans to get the dicominfo file

#### Examine ses-025 dicominfo file and update heuristic.py

#### Run HeuDiConv on ses-025 scans with updated heuristic.py and validate

#### Getting started

####
